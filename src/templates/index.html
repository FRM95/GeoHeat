<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" name="viewport" content="width=device-width">
		<title>Active fires</title>
    <link rel="stylesheet" href="/static/css/index.css">
  </head>
	<body>
    <header id="header">
      <div class="d-flex" style="padding: 0.75%; justify-content: space-between;">
        <div class="d-flex" style="gap: 2em;">
          <div class="dropdown">
            <button>File</button>
            <div class="dropdown-content">
              <a href="#" class="inspect-data">Inspect data</a>
              <a href="#">Export data</a>
            </div>
          </div>
          <div class="dropdown">
            <button>Help</button>
            <div class="dropdown-content">
              <a href="#">How to request data?</a>
              <a href="#">How to download data?</a>
            </div>
          </div>
        </div>
      </div>
    </header>
    <main>
      <div class="application-container">
        <div class="canvas" id="threejs-canvas"></div>
        <div class="container fl-1 w-fit" style="margin-left: 0.5%;"> 
          <div class="area">            
            <h1 class="main-t">Home</h1>
            <span class="desc-t">Available requests: 1000<br></span>
            <span class="expl-t">The limit of requests is 1000 per 10 minutes.</span>
            <div class="ov-f-y" style="max-height: 70vh; padding-right: 1em;">
              <div class="section">
                <details>
                  <summary class="detail-t m-b05 request-marker">Request data
                    <br><span class="expl-t">Request new fire data from FIRMS</span>
                  </summary>
                  <div class="d-grid m-r2 m-l2">
                    <div class="d-grid m-b05">
                      <span class="m-b025">Delimiter</span>
                      <select id="requestDelimiter" class="request-parameter" property = "delimiter"></select>
                    </div>
                    <div class="d-grid m-b05">
                      <span class="m-b025">Zone</span>
                      <select id="requestArea" class="request-parameter" property = "zone"></select>
                      <select id="requestCountry" class="request-parameter hidden" property = "zone"></select>
                    </div>
                    <div class="d-grid m-b05">
                      <span class="m-b025">Source</span>
                      <select id="requestSource" class="request-parameter" property = "source"></select>
                    </div>
                    <div class="d-grid m-b05">
                      <span class="m-b025">Range</span>
                      <select id="requestRange" class="request-parameter" property = "dayrange"></select>                
                    </div>
                    <div class="d-grid m-b05">
                      <span class="m-b025">Date</span>
                      <input id="requestDate" type="date" placeholder="YYYY-MM-DD" class="request-parameter" property = "date">
                    </div>
                    <div>
                      <button class="action-button" id="request-button">Get data</button>
                    </div>
                  </div>
                </details>
              </div>
              <div class="section">
                <details>
                  <summary class="detail-t m-b05 filter-marker">Filter data
                    <br><span class="expl-t">Choose fire data to display on earth</span>
                  </summary>
                  <div class="m-l2">
                    <details class="m-b05" id="details-date">
                      <summary>Date <input type="checkbox" id="filterDate" class="main-checkbox" checked="true"></summary>
                      <div class="available ov-f-y" name="dates" id="availableDate"></div>
                    </details>
                    <details class="m-b05" id="details-source">
                      <summary>Source <input type="checkbox" id="filterSource" class="main-checkbox" checked="true"></summary>
                      <div class="available ov-f-y" name="sources" id="availableSource"></div>
                    </details>
                    <details class="m-b05" id="details-area">
                      <summary>Area <input type="checkbox" id="filterArea" class="main-checkbox" checked="true"></summary>
                      <div class="available ov-f-y" name="areas" id="availableArea"></div>
                    </details>
                    <details class="m-b05" id="details-country">
                      <summary>Country <input type="checkbox" id="filterCountry" class="main-checkbox" checked="true"></summary>
                      <div class="available ov-f-y" name="countries" id="availableCountry"></div>
                    </details>
                    <button class="action-button" id="reset-button">Reset default</button>
                    <button class="action-button" id="save-button">Save</button>
                  </div>
                </details>
              </div>
              <div class="section">
                <details>
                  <summary class="detail-t m-b05 settings-marker">Settings
                    <br><span class="expl-t">Configure fire data and earth style</span>
                  </summary>
                  <div class="m-l2">
                    <details class="m-b05" id="details-date">
                      <summary>Fire mesh</summary>
                      <div></div>
                    </details>
                    <details class="m-b05" id="details-source">
                      <summary>Earth textures</summary>
                      <div></div>
                    </details>
                    <button class="action-button" id="reset-button">Reset default</button>
                    <button class="action-button" id="save-button">Apply</button>
                  </div>
                </details>
              </div>
            </div>         
          </div>
        </div>
        <div class="hidden container h-fit w-fit" id="inspect-container" style="max-width: 700px;
                  position: absolute;
                  left: 0;
                  right: 0;
                  margin-left: auto;
                  margin-right: auto;">
          <div class="area" style="padding: 2em;">
            <div class="d-flex" style="padding: 1em 0 1em 0;justify-content: space-between;">
              <span>Current data</span>
              <button class="inspect-data">Close</button>
            </div>
            <div id="display-Data" style="overflow: auto; padding: 0.5em; max-height: 400px; margin-bottom: 1em;">
              <table>
                <thead><tr><th>latitude</th><th>longitude</th><th>bright_ti4</th><th>scan</th><th>track</th><th>acq_date</th><th>acq_time</th><th>satellite</th><th>instrument</th><th>confidence</th><th>version</th><th>bright_ti5</th><th>frp</th><th>daynight</th><th>country</th><th>iso_abreviation</th><th>affiliated_country</th><th>affiliated_iso_abreviation</th><th>region</th><th>subregion</th><th>nasa_abreviation</th><th>earth_cartesian</th></tr></thead><tbody><tr><td>40.24542</td><td>-3.47989</td><td>303.22</td><td>0.65</td><td>0.73</td><td>2024-06-19</td><td>102</td><td>N</td><td>VIIRS</td><td>n</td><td>2.0NRT</td><td>283.32</td><td>2.6</td><td>N</td><td>Spain</td><td>ES</td><td>Spain</td><td>ES</td><td>Europe</td><td>Southern Europe</td><td>ESP</td><td>[object Object]</td></tr><tr><td>40.24546</td><td>-3.47577</td><td>307.33</td><td>0.65</td><td>0.73</td><td>2024-06-19</td><td>102</td><td>N</td><td>VIIRS</td><td>n</td><td>2.0NRT</td><td>283.39</td><td>3.53</td><td>N</td><td>Spain</td><td>ES</td><td>Spain</td><td>ES</td><td>Europe</td><td>Southern Europe</td><td>ESP</td><td>[object Object]</td></tr><tr><td>41.31255</td><td>1.65891</td><td>305.11</td><td>0.36</td><td>0.57</td><td>2024-06-19</td><td>102</td><td>N</td><td>VIIRS</td><td>n</td><td>2.0NRT</td><td>290.88</td><td>1.04</td><td>N</td><td>Spain</td><td>ES</td><td>Spain</td><td>ES</td><td>Europe</td><td>Southern Europe</td><td>ESP</td><td>[object Object]</td></tr><tr><td>41.31255</td><td>1.6606</td><td>314.52</td><td>0.41</td><td>0.61</td><td>2024-06-19</td><td>241</td><td>N</td><td>VIIRS</td><td>n</td><td>2.0NRT</td><td>290.88</td><td>1.69</td><td>N</td><td>Spain</td><td>ES</td><td>Spain</td><td>ES</td><td>Europe</td><td>Southern Europe</td><td>ESP</td><td>[object Object]</td></tr><tr><td>41.40561</td><td>1.99671</td><td>304.64</td><td>0.42</td><td>0.61</td><td>2024-06-19</td><td>241</td><td>N</td><td>VIIRS</td><td>n</td><td>2.0NRT</td><td>290.42</td><td>0.53</td><td>N</td><td>Spain</td><td>ES</td><td>Spain</td><td>ES</td><td>Europe</td><td>Southern Europe</td><td>ESP</td><td>[object Object]</td></tr><tr><td>43.03656</td><td>-2.22179</td><td>298.48</td><td>0.48</td><td>0.48</td><td>2024-06-19</td><td>241</td><td>N</td><td>VIIRS</td><td>n</td><td>2.0NRT</td><td>283.63</td><td>0.74</td><td>N</td><td>Spain</td><td>ES</td><td>Spain</td><td>ES</td><td>Europe</td><td>Southern Europe</td><td>ESP</td><td>[object Object]</td></tr><tr><td>37.18072</td><td>-6.89796</td><td>299.32</td><td>0.39</td><td>0.44</td><td>2024-06-19</td><td>243</td><td>N</td><td>VIIRS</td><td>n</td><td>2.0NRT</td><td>288.44</td><td>0.59</td><td>N</td><td>Spain</td><td>ES</td><td>Spain</td><td>ES</td><td>Europe</td><td>Southern Europe</td><td>ESP</td><td>[object Object]</td></tr><tr><td>37.18467</td><td>-6.89666</td><td>300.15</td><td>0.39</td><td>0.44</td><td>2024-06-19</td><td>243</td><td>N</td><td>VIIRS</td><td>n</td><td>2.0NRT</td><td>287.78</td><td>0.59</td><td>N</td><td>Spain</td><td>ES</td><td>Spain</td><td>ES</td><td>Europe</td><td>Southern Europe</td><td>ESP</td><td>[object Object]</td></tr><tr><td>37.36245</td><td>-5.86533</td><td>298.33</td><td>0.43</td><td>0.46</td><td>2024-06-19</td><td>243</td><td>N</td><td>VIIRS</td><td>n</td><td>2.0NRT</td><td>287.12</td><td>0.68</td><td>N</td><td>Spain</td><td>ES</td><td>Spain</td><td>ES</td><td>Europe</td><td>Southern Europe</td><td>ESP</td><td>[object Object]</td></tr><tr><td>40.24286</td><td>-3.47468</td><td>310.59</td><td>0.49</td><td>0.49</td><td>2024-06-19</td><td>243</td><td>N</td><td>VIIRS</td><td>n</td><td>2.0NRT</td><td>285.2</td><td>1.87</td><td>N</td><td>Spain</td><td>ES</td><td>Spain</td><td>ES</td><td>Europe</td><td>Southern Europe</td><td>ESP</td><td>[object Object]</td></tr><tr><td>40.24594</td><td>-3.47572</td><td>324.07</td><td>0.49</td><td>0.49</td><td>2024-06-19</td><td>243</td><td>N</td><td>VIIRS</td><td>n</td><td>2.0NRT</td><td>287.5</td><td>3.19</td><td>N</td><td>Spain</td><td>ES</td><td>Spain</td><td>ES</td><td>Europe</td><td>Southern Europe</td><td>ESP</td><td>[object Object]</td></tr><tr><td>40.24721</td><td>-3.47298</td><td>304.13</td><td>0.49</td><td>0.49</td><td>2024-06-19</td><td>243</td><td>N</td><td>VIIRS</td><td>n</td><td>2.0NRT</td><td>285.26</td><td>1.87</td><td>N</td><td>Spain</td><td>ES</td><td>Spain</td><td>ES</td><td>Europe</td><td>Southern Europe</td><td>ESP</td><td>[object Object]</td></tr><tr><td>40.24686</td><td>-3.47554</td><td>330.08</td><td>0.32</td><td>0.55</td><td>2024-06-19</td><td>1225</td><td>N</td><td>VIIRS</td><td>n</td><td>2.0NRT</td><td>298.15</td><td>3.28</td><td>D</td><td>Spain</td><td>ES</td><td>Spain</td><td>ES</td><td>Europe</td><td>Southern Europe</td><td>ESP</td><td>[object Object]</td></tr><tr><td>41.44156</td><td>2.23023</td><td>332.65</td><td>0.49</td><td>0.4</td><td>2024-06-19</td><td>1225</td><td>N</td><td>VIIRS</td><td>n</td><td>2.0NRT</td><td>298.04</td><td>2.25</td><td>D</td><td>Spain</td><td>ES</td><td>Spain</td><td>ES</td><td>Europe</td><td>Southern Europe</td><td>ESP</td><td>[object Object]</td></tr></tbody></table>
            </div>
            <div class="dropdown w-fit">
              <button>Export data</button>
              <div class="dropdown-content">
                <a href="#">CSV</a>
                <a href="#">JSON</a>
              </div>
            </div>
          </div>
        </div>
        <div id="markerInformation" class="hidden container fr-1 h-fit w-fit" style="margin-right: 0.5%;">
          <div class="area">
            <h2>container-features</h2>
            <div class="d-grid">
              <span class="marker-info" id="id"></span>
              <span class="marker-info" id="latitude"></span>
              <span class="marker-info" id="longitude"></span>
              <span class="marker-info" id="country"></span>
              <span class="marker-info" id="nasa_abreviation"></span>
              <span class="marker-info" id="affiliated_iso_country"></span>
              <span class="marker-info" id="nasa_region"></span>
              <span class="marker-info" id="subregion"></span>    
              <span class="marker-info" id="acq_date"></span>
              <span class="marker-info" id="acq_time"></span>
              <span class="marker-info" id="instrument"></span>
              <span class="marker-info" id="satellite"></span>
              <span class="marker-info" id="version"></span>
              <span class="marker-info" id="daynight"></span>
              <span class="marker-info" id="path"></span>
              <span class="marker-info" id="row"></span>
              <span class="marker-info" id="bright_ti4"></span>
              <span class="marker-info" id="bright_ti5"></span>
              <span class="marker-info" id="bright_ti31"></span>
              <span class="marker-info" id="brightness"></span>
              <span class="marker-info" id="confidence"></span>
              <span class="marker-info" id="scan"></span>
              <span class="marker-info" id="track"></span>
              <span class="marker-info" id="frp"></span>
            </div>
          </div>
        </div>
        <div id="markerLabel" class="hidden">
          <button id="closeButton">X</button>
          <div id="markerLabelInformation">
            <span id="idLabel"></span>
            <span id="latitudeLabel"></span>
            <span id="longitudeLabel"></span>
          </div>
        </div>
      </div>
    </main>
    <script type="importmap">
      {
        "imports": {
          "three": "https://unpkg.com/three@0.162.0/build/three.module.js",
          "three/addons/": "https://unpkg.com/three@0.162.0/examples/jsm/"
        }
      }
    </script>
    <script id="data"> 
      var user_data = {{ user_data | tojson }}
      var options_data = {{ options_data | tojson }};
      var user_key = "{{user_key}}";
    </script>
    <script type="module" src="/static/js/main.js"></script>
	</body>
</html>

